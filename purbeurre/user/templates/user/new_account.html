{% extends 'base.html' %}
{% load static %}

{% block head_links %}
    <!-- User CSS -->
    <link href="{% static 'user/css/user.css' %}" rel="stylesheet" />
    <link href="{% static 'user/css/footer.css' %}" rel="stylesheet" />

{% endblock head_links %}

{% block body %}
    <header class="masthead">
        <div class="container h-100">
            <div class="row h-100 align-items-center justify-content-center text-center">
                <div class="col-lg-10 align-self-end">
                    <h1 class="text-uppercase text-white font-weight-bold">Nouveau compte</h1>
                    <hr class="divider my-4" />
                </div>
                {% comment %} <div class="col-lg-8 align-self-baseline">
                    <h2 class="text-white-75 font-weight-light mb-5">
                        {{user.username}} / 
                        {{user.firstname}}
                    </h2>
                </div> {% endcomment %}
            </div>
        </div>
    </header>
    <!-- New account informations -->
    <section class="page-section" id="new_account">
        <div class="container">
            <h2 class="text-center mt-0">Création d'un compte utilisateur</h2>
            <hr class="divider my-4" />
            <div class="row d-flex justify-content-center">
                <div class="col-6">
                    <form method="post" id="form_new" data-new-account="{% url 'create_new' %}" >
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="id_email">Email *</label>
                            {{form_new.email}}
                            <small id="emailHelp" class="form-text text-muted">Obligatoire. A utiliser comme identifiant de connexion.</small>
                        </div>
                        <div class="form-group">
                            <label for="id_user_login">Login</label>
                            {{form_new.user_login}}
                            <small id="pwdHelp" class="form-text text-muted">Facultatif. Peut être utilisé à la place de l'email lors de la connexion.</small>
                        </div>
                        <div class="form-group">
                            <label for="id_pwd">Mot de passe *</label>
                            <div class="row d-flex align-items-center">
                                <div class="col-11">
                                    {{form_new.pwd}}
                                </div>
                                <div class="col-1 d-flex justify-content-center">
                                    <a role="button"
                                       title="Voir le mot de passe"
                                       id="show_pwd"
                                    >
                                        <i class="fas fa-eye fa-lg"></i>
                                    </a>
                                </div>
                            </div>
                            <small id="pwdHelp" class="form-text text-muted">Obligatoire.</small>
                        </div>
                        <div class="form-group">
                            <label for="id_pwd_confirm">Confirmation du mot de passe *</label>
                            <div class="row d-flex align-items-center">
                                <div class="col-11">
                                    {{form_new.pwd_confirm}}
                                </div>
                                <div class="col-1 d-flex justify-content-center">
                                    <a role="button"
                                       title="Voir le mot de passe"
                                       id="show_pwd_confirm"
                                    >
                                        <i class="fas fa-eye fa-lg"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="id_firstname">Prénom</label>
                            {{form_new.firstname}}
                            <small id="firstnameHelp" class="form-text text-muted">Facultatif</small>
                        </div>
                        <div class="form-group">
                            <label for="id_lastname">Nom</label>
                            {{form_new.lastname}}
                            <small id="lastnameHelp" class="form-text text-muted">Facultatif</small>
                        </div>
                        <div class='row d-flex justify-content-center mb-2'>
                            <div class='col-8'>
                                <div class="form-check mt-2">
                                    {{form_new.cgu}}
                                    <label class="form-check-label" for="id_cgu">{{form_new.cgu.label}}</label>
                                </div>
                                <div class="form-check mt-2">
                                    {{form_new.newsletter}}
                                    <label class="form-check-label" for="id_newsletter">Je souhaite m'inscrire à la newsletter pour recevoir toutes les dernières informations et bons plans de la part de <span class="font-italic font-weight-bold">Pur Beurre</span>.</label>
                                </div>
                            </div>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <input type="submit"
                                   class="btn btn-success d-flex justify-content-center"
                                   id="btn_new"
                                   value="Créer le compte"
                            >
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
{% endblock body %}

{% block script %}
    <!-- AJAX new account script -->
    <script src="{% static 'user/js/user.js' %}"></script>

{% endblock script %}